<!--- Thanks to Pooja! --->
<html>

<body>
    <script type="text/javascript">
        (function (d, m) {
            var kommunicateSettings = {
                "appId": "<<APP_ID_HERE>>>", 
                "popupWidget": true, 
                "automaticChatOpenOnNavigation": true,

                
                "onInit": function () {
                    var iframe = parent.document.getElementById(
                        "kommunicate-widget-iframe"
                    )

                    Kommunicate.displayKommunicateWidget(false);
                    iframe.classList.add("change-kommunicate-iframe-height");

                    document.getElementById("button").disabled = false;
                            var iframeStyle = document.createElement("style");
                    var classSettings =
                        ".change-kommunicate-iframe-height{height:100%!important;width:100%!important;right:0!important;bottom:0!important;max-height: 100%!important;}";
                    iframeStyle.type = "text/css";
                    iframeStyle.innerHTML = classSettings;
                    document.getElementsByTagName("head")[0].appendChild(iframeStyle);
                    var launcherIconStyle =
                        "@media(min-width: 510px){.mck-sidebox.fade.in,.mck-box .mck-box-sm{width:100%; height:100%;max-height:100%!important;border-radius:0px!important;}.mck-sidebox{right:0!important;bottom:0!important;}}";
                    Kommunicate.customizeWidgetCss(launcherIconStyle);

                    var launcher = KommunicateGlobal.document.getElementById(
                            "mck-sidebox-launcher"
                        ),
                        preChatPopup = KommunicateGlobal.document.querySelector(
                            "#chat-popup-widget-container .chat-popup-widget-text-wrapper"
                        ),
                        closeButton = KommunicateGlobal.document.getElementById(
                            "km-chat-widget-close-button"
                        );

                    
                    [launcher].forEach(function (element) {
                        element.addEventListener("click", function () {
                            iframe.classList.add("change-kommunicate-iframe-height");
                        });
                    });

                    closeButton.addEventListener("click", function () {
                        iframe.classList.remove("change-kommunicate-iframe-height");
                        Kommunicate.displayKommunicateWidget(false);
                    });
                }

            }

            var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
            s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
            var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
            window.kommunicate = m; m._globals = kommunicateSettings;
        })(document, window.kommunicate || {});
    </script>

    <!--
  The following openChat will open the chat widget on click on the button

  -->

    <script type="text/javascript">
        function openChat() {
            Kommunicate.displayKommunicateWidget(true);
            Kommunicate.launchConversation();
        }
    </script>

    <body>

        <!--
Below input will add the button on your web page
-->


        <input type="button" value="HELP" id="button" disabled="true" onclick="openChat()" />
    </body>

</html>